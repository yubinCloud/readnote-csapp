<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <title>Chapter 3 程序的机器级表示 II：控制 | CSAPP Readnote</title>
    <meta name="description" content="">
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/readnote-csapp/favicon.ico">
    <script src="https://hm.baidu.com/hm.js?d0bc939bf51d0eb349452f93e92f69b8"></script>
    <meta name="description" content="Just playing around">
    <link rel="preload" href="/readnote-csapp/assets/css/0.styles.f5b09282.css" as="style"><link rel="preload" href="/readnote-csapp/assets/js/app.ef805989.js" as="script"><link rel="preload" href="/readnote-csapp/assets/js/2.76af5a0b.js" as="script"><link rel="preload" href="/readnote-csapp/assets/js/3.754b96c1.js" as="script"><link rel="preload" href="/readnote-csapp/assets/js/14.515a9610.js" as="script"><link rel="prefetch" href="/readnote-csapp/assets/js/10.5d006b9a.js"><link rel="prefetch" href="/readnote-csapp/assets/js/11.b387791e.js"><link rel="prefetch" href="/readnote-csapp/assets/js/12.d2417751.js"><link rel="prefetch" href="/readnote-csapp/assets/js/13.81fa3e67.js"><link rel="prefetch" href="/readnote-csapp/assets/js/15.074594d5.js"><link rel="prefetch" href="/readnote-csapp/assets/js/16.bbde66f3.js"><link rel="prefetch" href="/readnote-csapp/assets/js/17.b30f40fd.js"><link rel="prefetch" href="/readnote-csapp/assets/js/18.c6d0a145.js"><link rel="prefetch" href="/readnote-csapp/assets/js/19.dc5021a8.js"><link rel="prefetch" href="/readnote-csapp/assets/js/20.6d6f7c19.js"><link rel="prefetch" href="/readnote-csapp/assets/js/21.ff2a2efe.js"><link rel="prefetch" href="/readnote-csapp/assets/js/22.e42da92f.js"><link rel="prefetch" href="/readnote-csapp/assets/js/23.3cac5e5a.js"><link rel="prefetch" href="/readnote-csapp/assets/js/24.877df013.js"><link rel="prefetch" href="/readnote-csapp/assets/js/4.43bd371a.js"><link rel="prefetch" href="/readnote-csapp/assets/js/5.535c57b9.js"><link rel="prefetch" href="/readnote-csapp/assets/js/6.578acf35.js"><link rel="prefetch" href="/readnote-csapp/assets/js/7.d83de615.js"><link rel="prefetch" href="/readnote-csapp/assets/js/8.256bebb1.js"><link rel="prefetch" href="/readnote-csapp/assets/js/9.9b31f26e.js">
    <link rel="stylesheet" href="/readnote-csapp/assets/css/0.styles.f5b09282.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="ant-row"><div class="nav-button"><i aria-label="icon: bars" class="anticon anticon-bars"><svg viewBox="0 0 1024 1024" focusable="false" data-icon="bars" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M912 192H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM104 228a56 56 0 1 0 112 0 56 56 0 1 0-112 0zm0 284a56 56 0 1 0 112 0 56 56 0 1 0-112 0zm0 284a56 56 0 1 0 112 0 56 56 0 1 0-112 0z"></path></svg></i> <span></span></div> <div class="ant-col ant-col-xs-24 ant-col-sm-24 ant-col-md-6 ant-col-lg-5 ant-col-xl-5 ant-col-xxl-4"><a href="/readnote-csapp/" class="router-link-active home-link"><img src="/readnote-csapp/favicon.ico" alt="CSAPP Readnote" class="logo"> <span class="site-name">CSAPP Readnote</span></a> <div class="search-box mobile-search"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div></div> <div class="ant-col ant-col-xs-0 ant-col-sm-0 ant-col-md-18 ant-col-lg-19 ant-col-xl-19 ant-col-xxl-20"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><ul role="menu" id="nav" class="ant-menu ant-menu-horizontal ant-menu-root ant-menu-light"><li role="menuitem" class="ant-menu-submenu ant-menu-submenu-horizontal ant-menu-overflowed-submenu" style="display:none;"><div aria-haspopup="true" class="ant-menu-submenu-title"><span>···</span><i class="ant-menu-submenu-arrow"></i></div></li><li role="menuitem" class="ant-menu-submenu ant-menu-submenu-horizontal ant-menu-submenu-selected"><div aria-haspopup="true" class="ant-menu-submenu-title"><span>
          PART I
        </span><i class="ant-menu-submenu-arrow"></i></div></li><li role="menuitem" class="ant-menu-submenu ant-menu-submenu-horizontal ant-menu-overflowed-submenu" style="display:none;"><div aria-haspopup="true" class="ant-menu-submenu-title"><span>···</span><i class="ant-menu-submenu-arrow"></i></div></li><li role="menuitem" class="ant-menu-submenu ant-menu-submenu-horizontal"><div aria-haspopup="true" class="ant-menu-submenu-title"><span>
          PART II
        </span><i class="ant-menu-submenu-arrow"></i></div></li><li role="menuitem" class="ant-menu-submenu ant-menu-submenu-horizontal ant-menu-overflowed-submenu" style="display:none;"><div aria-haspopup="true" class="ant-menu-submenu-title"><span>···</span><i class="ant-menu-submenu-arrow"></i></div></li><li role="menuitem" class="ant-menu-item"><a href="https://github.com/yubincloud/readnote-csapp" target="_blank">
          GitHub
          <i aria-label="icon: link" class="anticon anticon-link"><svg viewBox="64 64 896 896" focusable="false" data-icon="link" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M574 665.4a8.03 8.03 0 0 0-11.3 0L446.5 781.6c-53.8 53.8-144.6 59.5-204 0-59.5-59.5-53.8-150.2 0-204l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3l-39.8-39.8a8.03 8.03 0 0 0-11.3 0L191.4 526.5c-84.6 84.6-84.6 221.5 0 306s221.5 84.6 306 0l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3L574 665.4zm258.6-474c-84.6-84.6-221.5-84.6-306 0L410.3 307.6a8.03 8.03 0 0 0 0 11.3l39.7 39.7c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c53.8-53.8 144.6-59.5 204 0 59.5 59.5 53.8 150.2 0 204L665.3 562.6a8.03 8.03 0 0 0 0 11.3l39.8 39.8c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c84.5-84.6 84.5-221.5 0-306.1zM610.1 372.3a8.03 8.03 0 0 0-11.3 0L372.3 598.7a8.03 8.03 0 0 0 0 11.3l39.6 39.6c3.1 3.1 8.2 3.1 11.3 0l226.4-226.4c3.1-3.1 3.1-8.2 0-11.3l-39.5-39.6z"></path></svg></i></a></li><li role="menuitem" class="ant-menu-submenu ant-menu-submenu-horizontal ant-menu-overflowed-submenu" style="visibility:hidden;position:absolute;"><div aria-haspopup="true" class="ant-menu-submenu-title"><span>···</span><i class="ant-menu-submenu-arrow"></i></div></li></ul> <a href="https://github.com/yubincloud/readnote-csapp" target="_blank" rel="noopener noreferrer" class="repo-link"><i aria-label="icon: 查看源码" class="anticon anticon-查看源码"><!----></i></a></nav></div></div> <!----></header> <aside class="sidebar"><!----> <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Chapter 3 程序的机器级表示 II：控制</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/readnote-csapp/note/ch3/control.html#_3-6-1-条件码" title="3.6.1 条件码" class="sidebar-link">3.6.1 条件码</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/readnote-csapp/note/ch3/control.html#cmp-指令与-test-指令" title="CMP 指令与 TEST 指令" class="sidebar-link">CMP 指令与 TEST 指令</a></li></ul></li><li><a href="/readnote-csapp/note/ch3/control.html#_3-6-2-访问条件码-setx-指令" title="3.6.2 访问条件码：setX 指令" class="sidebar-link">3.6.2 访问条件码：setX 指令</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/readnote-csapp/note/ch3/control.html#_3-6-3-跳转指令" title="3.6.3 跳转指令" class="sidebar-link">3.6.3 跳转指令</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/readnote-csapp/note/ch3/control.html#无条件跳转" title="无条件跳转" class="sidebar-link">无条件跳转</a></li><li class="sidebar-sub-header"><a href="/readnote-csapp/note/ch3/control.html#有条件跳转" title="有条件跳转" class="sidebar-link">有条件跳转</a></li></ul></li><li><a href="/readnote-csapp/note/ch3/control.html#_3-6-4-跳转指令的编码" title="3.6.4 跳转指令的编码" class="sidebar-link">3.6.4 跳转指令的编码</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/readnote-csapp/note/ch3/control.html#_3-6-5-用条件控制来实现条件分支" title="3.6.5 用条件控制来实现条件分支" class="sidebar-link">3.6.5 用条件控制来实现条件分支</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/readnote-csapp/note/ch3/control.html#_3-6-6-用条件传送实现条件分支" title="3.6.6 用条件传送实现条件分支" class="sidebar-link">3.6.6 用条件传送实现条件分支</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/readnote-csapp/note/ch3/control.html#条件传送指令" title="条件传送指令" class="sidebar-link">条件传送指令</a></li><li class="sidebar-sub-header"><a href="/readnote-csapp/note/ch3/control.html#条件传送的不良案件" title="条件传送的不良案件" class="sidebar-link">条件传送的不良案件</a></li></ul></li><li><a href="/readnote-csapp/note/ch3/control.html#_3-6-7-循环" title="3.6.7 循环" class="sidebar-link">3.6.7 循环</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/readnote-csapp/note/ch3/control.html#_1-do-while-循环" title="（1）do-while 循环" class="sidebar-link">（1）do-while 循环</a></li><li class="sidebar-sub-header"><a href="/readnote-csapp/note/ch3/control.html#_2-while-循环" title="（2）while 循环" class="sidebar-link">（2）while 循环</a></li><li class="sidebar-sub-header"><a href="/readnote-csapp/note/ch3/control.html#_3-for-循环" title="（3）for 循环" class="sidebar-link">（3）for 循环</a></li></ul></li><li><a href="/readnote-csapp/note/ch3/control.html#_3-6-8-switch-语句" title="3.6.8 switch 语句" class="sidebar-link">3.6.8 switch 语句</a><ul class="sidebar-sub-headers"></ul></li></ul></section></li></ul></aside> <main class="page"> <div class="theme-antdocs-content content__default"><p>Chapter 3 程序的机器级表示 II：控制</p> <p></p><div class="table-of-contents"><ul><li><a href="#_3-6-控制">3.6 控制</a><ul><li><a href="#_3-6-1-条件码">3.6.1 条件码</a></li><li><a href="#_3-6-2-访问条件码-setx-指令">3.6.2 访问条件码：setX 指令</a></li><li><a href="#_3-6-3-跳转指令">3.6.3 跳转指令</a></li><li><a href="#_3-6-4-跳转指令的编码">3.6.4 跳转指令的编码</a></li><li><a href="#_3-6-5-用条件控制来实现条件分支">3.6.5 用条件控制来实现条件分支</a></li><li><a href="#_3-6-6-用条件传送实现条件分支">3.6.6 用条件传送实现条件分支</a></li><li><a href="#_3-6-7-循环">3.6.7 循环</a></li><li><a href="#_3-6-8-switch-语句">3.6.8 switch 语句</a></li></ul></li></ul></div><p></p> <h1 id="_3-6-控制"><a href="#_3-6-控制" class="header-anchor">#</a> 3.6 控制</h1> <p>机器代码提供了两种基本的低级机制来实现有条件的行为：测试数据值，然后根据测试的结果来改变控制流或者数据流。</p> <p>本文会先涉及实现条件码操作的两种方式，然后描述表达循环和 switch 语句的方法。</p> <h2 id="_3-6-1-条件码"><a href="#_3-6-1-条件码" class="header-anchor">#</a> 3.6.1 条件码</h2> <p>除了整数寄存器，CPU 还维护着一组单个位的条件码寄存器，<em>它们描述了最近的算术或者逻辑操作的属性</em>。</p> <table><thead><tr><th>位</th> <th style="text-align:center;">标志</th> <th style="text-align:left;">解释</th></tr></thead> <tbody><tr><td>CF</td> <td style="text-align:center;">进位标志（Carry Flag）</td> <td style="text-align:left;">最近的操作使最高位产生了进位。可以用来检查无符号操作的溢出</td></tr> <tr><td>ZF</td> <td style="text-align:center;">零标志（Zero Flag）</td> <td style="text-align:left;">最近的操作得出的结果为 0</td></tr> <tr><td>SF</td> <td style="text-align:center;">符号标志（Sign Flag）</td> <td style="text-align:left;">最近的操作得到的结果为负数</td></tr> <tr><td>OF</td> <td style="text-align:center;">溢出标志（Overflow Flag）</td> <td style="text-align:left;">最近的操作导致一个补码溢出——正溢出或负溢出</td></tr> <tr><td>PF</td> <td style="text-align:center;">奇偶校验标志（Parity Flag）</td> <td style="text-align:left;">最近产生的结果中低 8 位中 1 的个数，若为奇数个，则 PF = 0；偶数个则 PF = 1</td></tr></tbody></table> <details class="custom-block details"><summary>Example</summary> <p>假设我们用 Add 指令完成 t = a + b 操作（这里都是整型），则根据以下 C 表达式来设置条件码：</p> <p><img src="/readnote-csapp/assets/img/2021-07-20-13-53-23.fd562c31.png" alt=""></p></details> <ul><li><strong>leaq 指令不改变任何条件码</strong>，因为它只用来进行地址计算，除此之外，图 3-10 列出的指令都会设置条件码。</li> <li><span class="ant-tag ant-tag-cyan">不需要记</span>对于逻辑操作（如 XOR），进位标志和溢出标志会设置成 0。
</li> <li><span class="ant-tag ant-tag-cyan">不需要记</span>对于移位操作，进位标志被设置为最后一个移出的位，而溢出标志设置为 0。
</li> <li><span class="ant-tag ant-tag-cyan">不需要记</span>INC 和 DEC 指令会设置溢出和零标志，但是不会改变进位标志。
</li></ul> <h3 id="cmp-指令与-test-指令"><a href="#cmp-指令与-test-指令" class="header-anchor">#</a> CMP 指令与 TEST 指令</h3> <p>它们只设置条件码而不改变任何其他寄存器</p> <p><strong>CMP 指令</strong>根据两个操作数之差来设置条件码，其置位行为与 SUB 指令相同。</p> <blockquote><p>当相等时，置 ZF = 1，即相等得 0</p></blockquote> <p><strong>TEST 指令</strong>的置位行为与 AND 指令一样，其典型用法是：</p> <ul><li><span class="ant-tag ant-tag-blue">重要</span>两个操作数是一样的，例如`testq %rax, %rax`，用来检查 %rax 是负数是零，还是正数。此时相当于`cmpq $0, %rax` 。
</li> <li>其中的一个操作数是一个掩码，用来指示哪些位应该被测试。</li></ul> <p><img src="/readnote-csapp/assets/img/2021-07-20-14-19-37.e1d0f3aa.png" alt=""></p> <h2 id="_3-6-2-访问条件码-setx-指令"><a href="#_3-6-2-访问条件码-setx-指令" class="header-anchor">#</a> 3.6.2 访问条件码：setX 指令</h2> <p>条件码通常不会直接读取，常用的使用方法有三种：</p> <ol><li>【setX 指令】可以根据条件码的某种组合，将一个字节设置为 0 或 1；</li> <li>【jX 指令】可以条件跳转到程序的某个其他的部分；</li> <li>【cmovX 指令】可以有条件地传送数据。</li></ol> <p><strong>SET 指令</strong>根据条件码的某种组合，将一个字节设置为 0 或 1，他们之间的区别就在于他们考虑的条件码组合是什么，其名字的后缀指明了他们所考虑的条件码的组合。</p> <p><u>一条 SET 指令的目的操作数是低位单字节寄存器元素之一，或是一个字节的内存位置，指令会将这个字节设置为 0 或 1</u>。为了得到一个 32/64 位结果，须将高位清零。</p> <p><img src="/readnote-csapp/assets/img/2021-07-20-14-26-42.593c25a5.png" alt=""></p> <details class="custom-block details"><summary>助记</summary> <ul><li>e 有同名 z，因为 equal 是判断 ZF 是否置位，故 z 表示 Zero Flag，与 e（equal）意义相同。后面的 jX、cmovX 也有这个规律。</li> <li>仅带 e、ne 而不带 g、l、a、b 时，操作数有符号/无符号均可。</li> <li>有符号用 greater 和 less 比大小，无符号用 above 和 below。</li></ul></details> <details class="custom-block details"><summary>Example</summary> <div class="language- line-numbers-mode"><pre class="language-text"><code>// int comp(data_t a, data_t b)
// a in %rdi, b in %rsi

comp:
    cmpq %rsi, %rdi         Compare a:b
    setl %al                Set low-order byte of %eax to 0 or 1
    movzbl %al, %eax        Clear rest of %eax (and rest of %rax)
    ret
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><ul><li><span class="ant-tag ant-tag-blue">易错</span>注意 cmpq 指令的比较顺序，虽然参数列出的顺序先 b 再 a，但实际上比较的是 a 和 b。
</li> <li>line7 的 movzbl 指令不仅会把 %eax 高 3 个字节清零，还会把整个寄存器 %rax 的高 4 个字节都清零（因为任何为 32 为 reg 生成结果的指令都会把该 reg 的高位部分清零）。</li></ul></details> <p>注意到机器代码如何区分 unsigned 和 signed 是很重要的：</p> <ul><li>大多数情况下，对 signed 和 unsigned 使用一样的指令；</li> <li>有些情况下要用不同的指令来处理 signed 和 unsigned 操作，如不同版本的右移、除法和乘法指令，以及不同的条件码组合。</li></ul> <h2 id="_3-6-3-跳转指令"><a href="#_3-6-3-跳转指令" class="header-anchor">#</a> 3.6.3 跳转指令</h2> <p>跳转（jump）会导致执行切换到程序的一个全新的位置，在汇编中，这些跳转的目的地通常用一个<strong>标号</strong>（label）来标明。<u>在产生目标代码文件时，汇编器会确定所有带标号指令的地址，并将跳转目标（目的指令的地址）编码为跳转指令的一部分</u>。</p> <h3 id="无条件跳转"><a href="#无条件跳转" class="header-anchor">#</a> 无条件跳转</h3> <p>jmp 指令是无条件跳转，它分为：</p> <ul><li><strong>直接跳转</strong>，即跳转目标是作为指令的一部分编码的。在汇编中，直接跳转是给出一个标号作为跳转目标</li> <li><strong>间接跳转</strong>，即跳转目标是从寄存器或者内存位置中读出的。在汇编中，其写法是 <code>*</code> 后面跟一个操作数指示符。</li></ul> <details class="custom-block details"><summary>Example</summary> <p><code>jmp *%rax</code> 从 %rax 中的值作为跳转目标；<code>jmp *(%rax)</code> 以 %rax 中的值作为读地址，从内存中读出跳转目标。</p></details> <h3 id="有条件跳转"><a href="#有条件跳转" class="header-anchor">#</a> 有条件跳转</h3> <p>它们根据条件码的某种组合，或者跳转，或者继续执行代码序列的下一条指令：</p> <p><img src="/readnote-csapp/assets/img/2021-07-20-14-50-12.bf1601fd.png" alt=""></p> <ul><li>条件跳转只能是直接跳转，即只能给出一个标号作为跳转地址。</li> <li>这些指令的名字和跳转条件与 SET 指令是相匹配的。</li></ul> <h2 id="_3-6-4-跳转指令的编码"><a href="#_3-6-4-跳转指令的编码" class="header-anchor">#</a> 3.6.4 跳转指令的编码</h2> <p>在汇编代码中，跳转目标用符号标号书写。汇编器、链接器会产生跳转目标的适当编码。编码方式有：</p> <ol><li><strong>PC 相对的偏移量</strong>：它们会将目标指令的地址与紧跟在跳转指令<strong>后面那条指令的地址</strong><span class="ant-tag ant-tag-blue">易错</span>之间的差作为偏移量进行编码。（之所以是后面那条指令的地址，是因为 CPU 在取出指令后 PC 在指令执行前就递增了）</li> <li><strong>绝对地址</strong>，用 4 个字节直接指定跳转目标。</li></ol> <p><strong>使用偏移量跳转的好处</strong>：指令编码简洁，而且目标代码可以不做改变就移到内存中的不同位置。</p> <details class="custom-block details"><summary>Example</summary> <div class="language- line-numbers-mode"><pre class="language-text"><code>4004d0: 48 89 f8        mov   %rdi,%rax
4004d3: eb 03           jmp   4004d8 &lt;loop+0x8&gt;
4004d5: 48 d1 f8        sar   %rax
4004d8: 48 85 c0        test  %rax,%rax
4004db: 7f f8           jg    4004d5 &lt;loop+0x5&gt;
4004dd: f3 c3           repz  retq
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><ul><li>其中 rep、repz 指令无视即可。</li></ul></details> <p>跳转指令提供了一种实现条件执行（if）和几种不同循环结构的方式。</p> <h2 id="_3-6-5-用条件控制来实现条件分支"><a href="#_3-6-5-用条件控制来实现条件分支" class="header-anchor">#</a> 3.6.5 用条件控制来实现条件分支</h2> <p>将条件表达式和语句从 C 语言翻译成机器代码，最常用的方式就是结合有条件和无条件跳转，有些条件可以用数据的条件转移实现，而不是用控制的条件转移实现。</p> <details class="custom-block details"><summary>Example</summary> <p>例如，下面给出了一个计算两数之差绝对值的函数的 C 代码，以及 GCC 产生的汇编代码</p> <p>原始的 C 语言代码：</p> <div class="language-c line-numbers-mode"><pre class="language-c"><code><span class="token keyword">long</span> lt_cnt <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token keyword">long</span> ge_cnt <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

<span class="token keyword">long</span> <span class="token function">absdiff_se</span><span class="token punctuation">(</span><span class="token keyword">long</span> x<span class="token punctuation">,</span> <span class="token keyword">long</span> y<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">long</span> result<span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>x <span class="token operator">&lt;</span> y<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        lt_cnt<span class="token operator">++</span><span class="token punctuation">;</span>
        result <span class="token operator">=</span> y <span class="token operator">-</span> x<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">else</span> <span class="token punctuation">{</span>
        ge_cnt<span class="token operator">++</span><span class="token punctuation">;</span>
        result <span class="token operator">=</span> x <span class="token operator">-</span> y<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> result<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p>与之等价的 goto 版本：</p> <div class="language-c line-numbers-mode"><pre class="language-c"><code><span class="token keyword">long</span> <span class="token function">gotodiff_se</span><span class="token punctuation">(</span><span class="token keyword">long</span> x<span class="token punctuation">,</span> <span class="token keyword">long</span> y<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">long</span> result<span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>x <span class="token operator">&gt;=</span> y<span class="token punctuation">)</span>
        <span class="token keyword">goto</span> x_ge_y<span class="token punctuation">;</span>
    lt_cnt<span class="token operator">++</span><span class="token punctuation">;</span>
    result <span class="token operator">=</span> y <span class="token operator">-</span> x<span class="token punctuation">;</span>
    <span class="token keyword">return</span> result<span class="token punctuation">;</span>
x_ge_y<span class="token operator">:</span>
    ge_cnt<span class="token operator">++</span><span class="token punctuation">;</span>
    result <span class="token operator">=</span> x <span class="token operator">-</span> y<span class="token punctuation">;</span>
    <span class="token keyword">return</span> result<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>产生的汇编代码：
<img src="/readnote-csapp/assets/img/2021-07-20-15-07-42.df8470da.png" alt=""></p></details> <p>C 语言的 if-else 语句的通用形式模板如下：</p> <div class="language-c line-numbers-mode"><pre class="language-c"><code><span class="token keyword">if</span> <span class="token punctuation">(</span>test<span class="token punctuation">)</span>
    then<span class="token operator">-</span>statement
<span class="token keyword">else</span>
    <span class="token keyword">else</span><span class="token operator">-</span>statement
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>其汇编实现会使用下面这种形式（用 C 语法来描述控制流）：</p> <div class="language-c line-numbers-mode"><pre class="language-c"><code>    t <span class="token operator">=</span> text<span class="token operator">-</span>expr
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>t<span class="token punctuation">)</span>
        <span class="token keyword">goto</span> false<span class="token punctuation">;</span>
    <span class="token comment">// then-statement，是顺着 if 写下去的（成功时顺着下去）</span>
    <span class="token keyword">goto</span> done<span class="token punctuation">;</span>
false<span class="token operator">:</span>
    <span class="token comment">// else-statement，是跳出去的（失败时跳出去）</span>
done<span class="token operator">:</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h2 id="_3-6-6-用条件传送实现条件分支"><a href="#_3-6-6-用条件传送实现条件分支" class="header-anchor">#</a> 3.6.6 用条件传送实现条件分支</h2> <p>实现条件操作的传统方法是通过控制的条件转移，这种机制简单但效率低。一种替代策略是<strong>使用数据的条件转移</strong>，这种方法计算一个条件操作的两种结果，然后再根据条件是否满足从中选取一个。</p> <blockquote><p>这种策略只在一些受限制的情况下才可行，但如果可行，就可以用一条指令来实现它，这样产生的指令控制流不再依赖于测试数据，使得处理器更容易保持流水线是满的。</p></blockquote> <details class="custom-block details"><summary>条件传送的例子</summary> <p>计算参数 x 与 y 差的绝对值</p> <p>原始 C 代码：</p> <div class="language-c {5, 7} line-numbers-mode"><pre class="language-c"><code><span class="token keyword">long</span> <span class="token function">absdiff</span><span class="token punctuation">(</span><span class="token keyword">long</span> x<span class="token punctuation">,</span> <span class="token keyword">long</span> y<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">long</span> result<span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>x <span class="token operator">&lt;</span> y<span class="token punctuation">)</span>
        result <span class="token operator">=</span> y <span class="token operator">-</span> x<span class="token punctuation">;</span>  <span class="token comment">// see here</span>
    <span class="token keyword">else</span>
        result <span class="token operator">=</span> x <span class="token operator">-</span> y<span class="token punctuation">;</span>  <span class="token comment">// see here</span>
    <span class="token keyword">return</span> result<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>使用条件赋值的实现：</p> <div class="language-c line-numbers-mode"><pre class="language-c"><code><span class="token keyword">long</span> <span class="token function">cmovdiff</span><span class="token punctuation">(</span><span class="token keyword">long</span> x<span class="token punctuation">,</span> <span class="token keyword">long</span> y<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token comment">// 计算一个条件操作的两个结果</span>
    <span class="token keyword">long</span> rval <span class="token operator">=</span> y <span class="token operator">-</span> x<span class="token punctuation">;</span>
    <span class="token keyword">long</span> eval <span class="token operator">=</span> x <span class="token operator">-</span> y<span class="token punctuation">;</span>

    <span class="token keyword">long</span> ntest <span class="token operator">=</span> x <span class="token operator">&gt;=</span> y<span class="token punctuation">;</span>
    <span class="token comment">// 根据条件是否满足从中选取一个结果</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>ntest<span class="token punctuation">)</span>
        rval <span class="token operator">=</span> eval<span class="token punctuation">;</span>

    <span class="token keyword">return</span> rval<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>产生的汇编代码：</p> <p><img src="/readnote-csapp/assets/img/2021-07-20-15-23-59.fa284166.png" alt=""></p></details> <h3 id="条件传送指令"><a href="#条件传送指令" class="header-anchor">#</a> 条件传送指令</h3> <p><img src="/readnote-csapp/assets/img/2021-07-20-15-27-16.f5327860.png" alt=""></p> <ul><li>每条指令都有两个操作数，源寄存器或内存地址 S，和目的寄存器 D。</li> <li>指令的结果取决于条件码的值，源值可以来自内存或 reg，<u>但是只有在指定的条件满足时才会被复制到目的寄存器中</u>。</li> <li>不支持单字节的条件传送</li> <li>汇编器可以从目标寄存器的名字推断出条件传送指令的操作数长度，所以对于不同长度可以使用同一个指令名字。</li></ul> <p>相比于条件跳转，执行条件传送指令时是顺序执行，不会发生跳去其他代码的情况，CPU 无须预测测试结果就可以执行条件传送。</p> <h3 id="条件传送的不良案件"><a href="#条件传送的不良案件" class="header-anchor">#</a> 条件传送的不良案件</h3> <ol><li>计算代价太大：<code>val = Test(x) ? Hard1(x) : Hard2(x);</code></li> <li>危险的计算：<code>val = p ? *p : 0;</code></li> <li>有副作用的计算：<code>val = x &gt; 0 ? x *= 7 : x += 3;</code></li></ol> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>重要的是，因为无论测试结果如何，我们都会对 then-expr 和 else-expr 求值，当两个表达式中的任意一个可能产生错误条件或者副作用，就会导致非法的行为。</p></div> <p>实验表明，只有当两个表达式都很容易计算时，例如表达式分别都只是一条加法指令时，他才会使用条件传送。</p> <h2 id="_3-6-7-循环"><a href="#_3-6-7-循环" class="header-anchor">#</a> 3.6.7 循环</h2> <p>汇编用条件测试 + 跳转实现 C 语言的多种循环结构，即 do-while、while 和 for。</p> <h3 id="_1-do-while-循环"><a href="#_1-do-while-循环" class="header-anchor">#</a> （1）do-while 循环</h3> <p>do-while 通用形式：</p> <div class="language-c line-numbers-mode"><pre class="language-c"><code><span class="token keyword">do</span>
    body<span class="token operator">-</span>statement
    <span class="token keyword">while</span> <span class="token punctuation">(</span>test<span class="token operator">-</span>expr<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>可以看到，body-statement 至少执行一次。这种通用形式被翻译成如下的条件和 goto 语句：</p> <div class="language-c line-numbers-mode"><pre class="language-c"><code>loop<span class="token operator">:</span>
    body<span class="token operator">-</span>statement
    t <span class="token operator">=</span> test<span class="token operator">-</span>expr
    <span class="token keyword">if</span> <span class="token punctuation">(</span>t<span class="token punctuation">)</span>
        <span class="token keyword">goto</span> loop
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><details class="custom-block details"><summary>Example</summary> <p><img src="/readnote-csapp/assets/img/2021-07-20-15-44-22.0af19a36.png" alt=""></p></details> <h3 id="_2-while-循环"><a href="#_2-while-循环" class="header-anchor">#</a> （2）while 循环</h3> <p>while 通用形式：</p> <div class="language-c line-numbers-mode"><pre class="language-c"><code><span class="token keyword">while</span> <span class="token punctuation">(</span>test<span class="token operator">-</span>expr<span class="token punctuation">)</span>
    body<span class="token operator">-</span>statement
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>与 do-while 不同的是，在第一次执行 body 前，它会对 test-expr 求值，循环可能就终止了。</p> <p>有两种实现翻译方法：</p> <h4 id="翻译方法-1-跳转到中间-jump-to-middle"><a href="#翻译方法-1-跳转到中间-jump-to-middle" class="header-anchor">#</a> 翻译方法 1：<strong>跳转到中间</strong>（jump to middle）</h4> <p>它执行一个无条件跳转跳到循环结尾处测试，以此来执行初始的测试：</p> <div class="language-c line-numbers-mode"><pre class="language-c"><code>    <span class="token keyword">goto</span> test<span class="token punctuation">;</span>
loop<span class="token operator">:</span>
    body<span class="token operator">-</span>statement
test<span class="token operator">:</span>
    t <span class="token operator">=</span> test<span class="token operator">-</span>expr<span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>t<span class="token punctuation">)</span>
        <span class="token keyword">goto</span> loop<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><details class="custom-block details"><summary>&quot;跳转到中间&quot; Example</summary> <p><img src="/readnote-csapp/assets/img/2021-07-20-15-49-36.e0c19d03.png" alt=""></p></details> <h4 id="翻译方法-2-guard-do"><a href="#翻译方法-2-guard-do" class="header-anchor">#</a> 翻译方法 2：<strong>guard-do</strong></h4> <p>首先使用条件分支，如果初始条件不成立就跳过循环，把代码变换成 do-while 循环：</p> <p><img src="data:image/png;base64,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" alt=""></p> <p>相应的，还可以翻译成 goto 代码如下：</p> <p><img src="/readnote-csapp/assets/img/2021-07-20-15-55-44.798d29af.png" alt=""></p> <details class="custom-block details"><summary>&quot;guard-to&quot; Example</summary> <p><img src="/readnote-csapp/assets/img/2021-07-20-15-56-38.9b36e6e2.png" alt=""> <img src="/readnote-csapp/assets/img/2021-07-20-15-56-50.fb288294.png" alt=""></p></details> <h3 id="_3-for-循环"><a href="#_3-for-循环" class="header-anchor">#</a> （3）for 循环</h3> <p>for 通用形式：</p> <div class="language-c line-numbers-mode"><pre class="language-c"><code><span class="token keyword">for</span> <span class="token punctuation">(</span>init<span class="token operator">-</span>expr<span class="token punctuation">;</span> test<span class="token operator">-</span>expr<span class="token punctuation">;</span> update<span class="token operator">-</span>expr<span class="token punctuation">)</span>
    body<span class="token operator">-</span>statement
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>这样的循环与下面这段使用的 while 循环行为相同：</p> <div class="language-c line-numbers-mode"><pre class="language-c"><code>init<span class="token operator">-</span>expr<span class="token punctuation">;</span>
<span class="token keyword">while</span> <span class="token punctuation">(</span>test<span class="token operator">-</span>expr<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    body<span class="token operator">-</span>statement
    update<span class="token operator">-</span>expr<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>GCC 为 for 循环产生的代码是 while 循环的两种翻译之一，这取决于优化的等级。</p> <h4 id="跳转到中间的翻译策略"><a href="#跳转到中间的翻译策略" class="header-anchor">#</a> 跳转到中间的翻译策略:</h4> <p><img src="data:image/png;base64,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" alt=""></p> <h4 id="guarded-do-的翻译策略"><a href="#guarded-do-的翻译策略" class="header-anchor">#</a> guarded-do 的翻译策略：</h4> <p><img src="/readnote-csapp/assets/img/2021-07-20-16-04-16.e7bfa289.png" alt=""></p> <div class="custom-block tip"><p class="custom-block-title">总结</p> <p>综上所述，C 语言的三种形式的循环都可以用一种简单的策略来翻译，产生包含一个或多个条件分支的代码。控制的条件转移机制提供了将循环翻译成机器代码的基本机制。</p></div> <h2 id="_3-6-8-switch-语句"><a href="#_3-6-8-switch-语句" class="header-anchor">#</a> 3.6.8 switch 语句</h2> <p>这个语句特别有用，它不仅提高了 C 代码的可读性，而且通过使用跳转表这种数据结构使得实现更加高效。和使用很长的 if-else 相比，使用跳转表的优点是执行开关语句的时间与开关情况的数量无关。</p> <p><img src="/readnote-csapp/assets/img/2021-07-20-16-16-09.9e5b1ea0.png" alt=""></p> <p>其汇编代码如下：</p> <p><img src="/readnote-csapp/assets/img/2021-07-20-16-16-58.cb251b63.png" alt=""></p> <ul><li>直接跳转：<code>jmp .L8</code> 跳转到标号 .L8 处</li> <li>间接跳转：<code>jmp *.L4(, %rdi, 8)</code> 跳转表的起始地址：.L4</li></ul> <p>执行 switch 语句的关键步骤是通过跳转表来访问代码的位置。可以观察到，跳转表对重复情况的处理就是简单地对表项 4、6 用同样的代码标号 loc_D，而对于确实的情况的处理就是对 1、5 使用默认情况的标号 loc_def。</p> <p>在汇编代码中，跳转表用以下声明表示：</p> <p><img src="/readnote-csapp/assets/img/2021-07-20-16-14-29.d64a986f.png" alt=""></p> <ul><li><strong>处理下穿</strong>（Fall Through）：不同的代码块实现了 switch 语句的不同分支。当 C 语言中没有 break 而下穿时，汇编中在块结尾就没有 jmp 指令，这样代码就会继续执行下一个块。</li> <li>关键是领会使用跳转表是一种非常有效的实现多重分支的方法。</li></ul></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/yubincloud/readnote-csapp/edit/main/docs/note/ch3/control.md" target="_blank" rel="noopener noreferrer">在 GitHub 上编辑此页面</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">2021/7/20 上午9:13:06</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev"><a href="/readnote-csapp/note/ch3/assembly-basic.html" class="prev"><i aria-label="icon: left" class="anticon anticon-left"><svg viewBox="64 64 896 896" focusable="false" data-icon="left" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 0 0 0 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z"></path></svg></i>
        Chapter 3 程序的机器级表示 I：汇编基础
      </a></span> <span class="next"><a href="/readnote-csapp/note/ch3/procedures.html">
        Chapter 3 程序的机器级表示 III：过程
        <i aria-label="icon: right" class="anticon anticon-right"><svg viewBox="64 64 896 896" focusable="false" data-icon="right" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M765.7 486.8L314.9 134.7A7.97 7.97 0 0 0 302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 0 0 0-50.4z"></path></svg></i></a></span></p></div> </main> <!----></div><div class="global-ui"><!----><!----></div></div>
    <script src="/readnote-csapp/assets/js/app.ef805989.js" defer></script><script src="/readnote-csapp/assets/js/2.76af5a0b.js" defer></script><script src="/readnote-csapp/assets/js/3.754b96c1.js" defer></script><script src="/readnote-csapp/assets/js/14.515a9610.js" defer></script>
  </body>
</html>